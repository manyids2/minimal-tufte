{{ $class := .Attributes.class | default "" }} 
{{ $lang := .Attributes.lang | default .Type }} 

<div class="{{ $class }} codeblock">
  {{ if transform.CanHighlight $lang }}
    {{ highlight .Inner $lang }}
    {{ partial "codeblock-button.html" . }}
  {{else}}
    <pre><code class="{{ $class }}"> {{.Inner}} </code></pre>
    {{ partial "codeblock-button.html" . }}
  {{end}}
</div>
